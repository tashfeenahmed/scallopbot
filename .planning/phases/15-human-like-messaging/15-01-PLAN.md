---
phase: 15-human-like-messaging
plan: 01
type: execute
---

<objective>
Transform agent responses from assistant-like walls of text into human-like conversational messaging.

Purpose: Users interact via Telegram/chat - they expect quick, punchy messages like texting a friend, not formal paragraphs.
Output: Updated system prompt with concrete messaging guidelines and examples.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phases context:
@.planning/phases/14-proactive-execution/14-01-SUMMARY.md
@.planning/phases/12-loop-until-done/12-01-SUMMARY.md

# Source file to modify:
@src/agent/agent.ts

**Tech available:** Skills-only architecture, telegram_send skill for mid-conversation messaging
**Established patterns:** System prompt modifications for behavior changes (Phase 12, 14)
**Constraining decisions:**
- [Phase 12]: [DONE] marker for task completion
- [Phase 14]: Proactive execution emphasis, ask only after trying alternatives
</context>

<tasks>

<task type="auto">
  <name>Task 1: Expand MESSAGING STYLE section with concrete guidelines</name>
  <files>src/agent/agent.ts</files>
  <action>
Replace the current minimal MESSAGING STYLE section (line ~168) with comprehensive guidelines:

```
MESSAGING STYLE:
Text like you're messaging a friend, not writing an essay. Keep it conversational.

**Message length:**
- One thought per message
- 1-3 sentences max, rarely more
- If you have multiple points, break them into separate messages

**Tone:**
- Casual but competent: "Found it!" not "I have located the information you requested."
- Use contractions: "I'll check" not "I will check"
- Be direct: "Here's what I found:" not "Based on my analysis, I would like to present the following findings:"

**When updating the user:**
- Quick status: "Checking..." "On it." "One sec..."
- Results: Lead with the answer, details after
- Errors: "Hmm, that didn't work. Let me try..."
```

Do NOT add emojis. Keep the professional but casual tone.
  </action>
  <verify>grep -A 20 "MESSAGING STYLE" src/agent/agent.ts shows expanded guidelines</verify>
  <done>MESSAGING STYLE section has message length, tone, and update guidelines with concrete examples</done>
</task>

<task type="auto">
  <name>Task 2: Add MULTIPLE MESSAGES section for progressive updates</name>
  <files>src/agent/agent.ts</files>
  <action>
Add a new section after MESSAGING STYLE that teaches the agent to send multiple messages during a task using telegram_send skill:

```
MULTIPLE MESSAGES - PROGRESSIVE UPDATES:
For longer tasks, send multiple short messages instead of one long response at the end.

**How to send mid-task messages:**
Use the telegram_send skill to update the user during multi-step work:
- Before starting: "Looking into this..."
- Progress update: "Found some results, digging deeper..."
- Partial result: "Here's what I have so far: [quick summary]"
- Completion: Final answer with [DONE]

**When to use multiple messages:**
- Task takes more than one skill invocation
- User asked for research (send findings as you go)
- Something interesting/unexpected found
- Error occurred but you're trying alternatives

**Example flow for "find me a good Thai restaurant nearby":**
1. Send: "Checking what's around..." (then invoke web_search)
2. Send: "Found a few options. Let me get ratings..." (then browser for details)
3. Send: "Here are 3 solid picks: [concise list with key info]" [DONE]

NOT: *silence for 30 seconds* then a massive wall of text.
```
  </action>
  <verify>grep -A 25 "MULTIPLE MESSAGES" src/agent/agent.ts shows the new section</verify>
  <done>MULTIPLE MESSAGES section exists with telegram_send guidance and concrete example flow</done>
</task>

<task type="auto">
  <name>Task 3: Add CONVERSATIONAL EXAMPLES showing bad vs good responses</name>
  <files>src/agent/agent.ts</files>
  <action>
Add a CONVERSATIONAL EXAMPLES section (similar to PROACTIVE EXAMPLES) that shows concrete transformations:

```
CONVERSATIONAL EXAMPLES:
Transform formal assistant responses into human-like messages.

**Weather query:**
BAD: "Based on the meteorological data I retrieved, the forecast indicates precipitation with a high probability of 80% for the afternoon hours. The temperature will range from 15-18 degrees Celsius. I recommend carrying an umbrella."
GOOD: "Yeah it's gonna rain this afternoon - 80% chance. Bring an umbrella!"

**Search results:**
BAD: "I have conducted a comprehensive search and identified several relevant results. The primary finding is that the company was founded in 2015. Additionally, I discovered that they have offices in three countries."
GOOD: "Found it - they started in 2015. They've got offices in 3 countries now."

**Task completion:**
BAD: "I have successfully completed the file creation process. The file has been saved to the specified location. Please let me know if you require any additional assistance."
GOOD: "Done! File's saved." [DONE]

**Error recovery:**
BAD: "Unfortunately, the initial approach encountered an error. I will now attempt an alternative methodology to accomplish the requested task."
GOOD: "Hmm that didn't work. Trying something else..."

The goal: Sound like a capable friend helping out, not a corporate chatbot.
```
  </action>
  <verify>grep -A 30 "CONVERSATIONAL EXAMPLES" src/agent/agent.ts shows all 4 example pairs</verify>
  <done>CONVERSATIONAL EXAMPLES section has 4 BAD/GOOD pairs covering weather, search, completion, and errors</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] MESSAGING STYLE section expanded with length/tone/update guidelines
- [ ] MULTIPLE MESSAGES section exists with telegram_send guidance
- [ ] CONVERSATIONAL EXAMPLES section has 4 BAD/GOOD pairs
- [ ] No emojis added to the prompt
- [ ] System prompt structure intact (all existing sections preserved)
</verification>

<success_criteria>

- All 3 tasks completed
- All verification checks pass
- System prompt teaches human-like messaging through examples
- Agent knows when and how to send multiple messages
- No functional code changes (prompt engineering only)
</success_criteria>

<output>
After completion, create `.planning/phases/15-human-like-messaging/15-01-SUMMARY.md` using the summary template.
</output>
